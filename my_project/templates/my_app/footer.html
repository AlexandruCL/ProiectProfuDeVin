<footer class="site-footer">
    <div class="site-container" style="text-align: center;">
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 0.75rem; align-items: center;">
            <a href="{% url 'terms_and_conditions' %}">Terms and Conditions</a>
            <span aria-hidden="true">|</span>
            <a href="{% url 'confidentiality_policy' %}">Confidentiality Policy</a>
            <span aria-hidden="true">|</span>
            <a href="{% url 'cookies_policy' %}">Cookies Policy</a>
            <span aria-hidden="true">|</span>
            <button type="button" onclick="withdrawConsent()">Cookies Consent</button>
        </div>
        <div style="margin-top: 0.5rem;">
            <p class="text-sm">&copy; 2025 Profu De' Vin. All rights reserved.</p>
        </div>
    </div>
</footer>
<div class="cookie-banner" id="cookie-banner" style="display:none;">
    This website uses cookies to ensure you get the best experience on our website. Check our <a href="{% url 'cookies_policy' %}">Cookies Policy</a> for more information.
    <button onclick="acceptCookies()">Accept</button>
    <button onclick="declineCookies()">Decline</button>
</div>
<script>
    function setCookie(name, value, seconds) {
        var expires = "";
        if (seconds) {
            var date = new Date();
            date.setTime(date.getTime() + (seconds * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    function acceptCookies() {
        setCookie('cookiesAccepted', 'true', 1209600); // Expires in 30 days
        document.getElementById('cookie-banner').style.display = 'none';
    }

    function declineCookies() {
        setCookie('cookiesAccepted', 'false', 1209600); // Expires in 30 days
        document.getElementById('cookie-banner').style.display = 'none';
    }

    function withdrawConsent() {
        setCookie('cookiesAccepted', '', -1); // Delete the cookie
        document.getElementById('cookie-banner').style.display = 'block';
    }

    window.addEventListener('load', function() {
        if (getCookie('cookiesAccepted') === 'true') {
            document.getElementById('cookie-banner').style.display = 'none';
        } else {
            document.getElementById('cookie-banner').style.display = 'block';
        }
    });

    window.addEventListener('pageshow', function(event) {
        if (event.persisted) {
            window.location.reload();
        }
    });
</script>